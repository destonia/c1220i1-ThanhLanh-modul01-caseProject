<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Funny Circle 2</title>
    <script src="meteor.js"></script>
    <script src="barrier.js"></script>
</head>
<body>
<canvas id="canvas1" width="400px" height="400px" style="background-color: pink"></canvas>
</body>
<script>
    let canvas = null;
    let context = null;
    let barrier = null;
    let meteors = [];
    let score = 0;
canvas=document.getElementById('canvas1');
context=canvas.getContext("2d");

    meteors = new Meteor(40);
    barrier = new Barrier(100, 20)
    meteors.setColor("green");
    barrier.setColor("red");


    function drawScore() {
        let canvas = document.getElementById("canvas1");
        ctx = canvas.getContext('2d');
        ctx.fillStyle = "#ffffff"
        ctx.font = "30px Arial";
        ctx.fillText(score, 100, 100);
    }

    function createNewMeteor() {
        let newMeteor = new Meteor(40);
        newMeteor.init();
        meteors.push(newMeteor);
    }


    function moveMeteor() {

        let canvas = document.getElementById('canvas1');
        let ctx = canvas.getContext('2d');
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        meteors.update();
        meteors.render(canvas);
        //barrier.render(canvas);

}

    setInterval(moveMeteor,20)
    setInterval(drawScore,20);
    setInterval(barrier.moveBarrier,20);
</script>
</html>
